!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.QuillEmotion=e():t.QuillEmotion=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(i){if(o[i])return o[i].exports;var n=o[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var o={};return e.m=t,e.c=o,e.d=function(t,o,i){e.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(o,"a",o),o},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=o(1),n=(o.n(i),o(2)),r=o(3);Quill.register({"formats/emotion":n.a,"modules/emotion":r.a}),e.default={EmotionBlot:n.a,ToolbarEmotion:r.a}},function(t,e){},function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(){function t(t,e){for(var o=0;o<e.length;o++){var i=e[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,o,i){return o&&t(e.prototype,o),i&&t(e,i),e}}(),c=function t(e,o,i){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,o);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,o,i)}if("value"in n)return n.value;var l=n.get;if(void 0!==l)return l.call(i)},s=Quill.import("parchment"),a=function(t){function e(){return i(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),u(e,null,[{key:"create",value:function(t){var o=c(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this);if("object"===(void 0===t?"undefined":l(t))){var i=t.url,n=t.name,r=t.size,u=void 0===r?20:r;o.classList.add("emotion"),o.setAttribute("src",i),o.setAttribute("alt",n),o.setAttribute("title",n),o.setAttribute("width",u),o.setAttribute("height",u)}else"string"==typeof t&&o.setAttribute("src",t);return o}},{key:"formats",value:function(t){var e={};return t.hasAttribute("src")&&(e.src=t.getAttribute("src")),t.hasAttribute("alt")&&(e.alt=t.getAttribute("alt")),t.hasAttribute("class")&&(e.class=t.getAttribute("class")),e}},{key:"value",value:function(t){return t.getAttribute("src")}}]),e}(s.Embed);a.blotName="emotion",a.tagName="img",e.a=a},function(t,e,o){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function t(e){var o=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(i(this,t),this.initEmotionPicker=function(){var t=o.quill.container.querySelector(".ql-emotion-picker");t||(t=o.quill.addContainer("ql-emotion-picker")),o.picker=t,o.picker.style.width="200px";var e=o.emotionButton.offsetLeft+o.emotionButton.offsetWidth/2-100;e+200>o.quill.container.offsetWidth?o.picker.style.right=0:o.picker.style.left=e+"px",o.picker.style.display="none";var i=document.createElement("ul");o.picker.appendChild(i);var n=o.options.items;(void 0===n?[]:n).forEach(function(t){var e=t.url,n=t.name,r=t.size,l=void 0===r?20:r,u=document.createElement("li");u.classList.add("ql-emotion-item"),u.setAttribute("title",n);var c=document.createElement("img");c.setAttribute("src",e),c.setAttribute("alt",n),c.style.width=l+"px",c.style.height=l+"px",u.appendChild(c),u.addEventListener("click",function(){o.insertEmotion(t),o.picker.style.display="none"}),i.appendChild(u)})},this.handleEmotion=function(){"none"===o.picker.style.display?o.picker.style.display="block":o.picker.style.display="none"},this.hideEmotionPicker=function(){o.picker.style.display="none"},this.insertEmotion=function(t){var e=t.url,i=t.name,n=t.size,r=o.quill.getSelection(!0);o.quill.insertEmbed(r.index,"emotion",{url:e,name:i,size:n},"user"),o.quill.setSelection(r.index+1)},this.quill=e,this.options=n,this.toolbar=e.getModule("toolbar"),this.toolbar){this.toolbar.addHandler("emotion",this.handleEmotion);var r=document.querySelector(".ql-emotion");r&&(this.emotionButton=r,r.innerHTML=n.buttonIcon||'<svg viewBox="0 0 1024 1024" width="18" height="18"><path d="M288.92672 400.45568c0 30.80192 24.97024 55.77216 55.77216 55.77216s55.77216-24.97024 55.77216-55.77216c0-30.7968-24.97024-55.76704-55.77216-55.76704s-55.77216 24.97024-55.77216 55.76704z m334.60224 0c0 30.80192 24.97024 55.77216 55.77216 55.77216s55.77216-24.97024 55.77216-55.77216c0-30.7968-24.97024-55.76704-55.77216-55.76704s-55.77216 24.97024-55.77216 55.76704z m-111.5392 362.4704c-78.05952 0-156.13952-39.08096-200.75008-100.3776-16.77312-22.31296-27.84256-50.15552-39.08096-72.45824-5.53472-16.77312 5.5296-33.4592 16.77312-39.08096 16.77312-5.53472 27.84256 5.53472 33.46432 16.768 5.53472 22.30784 16.77312 39.08608 27.84256 55.77728 44.61568 55.76704 100.38272 83.69664 161.664 83.69664 61.30176 0 122.7008-27.84256 156.16-78.07488 11.15136-16.77824 22.30784-38.99904 27.84256-55.77728 5.62176-16.768 22.30784-22.30272 33.4592-16.768 16.768 5.53472 22.30784 22.30272 16.768 33.4592-5.61152 27.84256-22.2976 50.14528-39.08096 72.45824-38.912 61.37856-116.98176 100.3776-195.06176 100.3776z m0 194.51392C268.4928 957.44 66.56 755.52256 66.56 511.99488 66.56 268.48256 268.4928 66.56 511.98976 66.56 755.50208 66.56 957.44 268.48256 957.44 511.99488 957.44 755.52256 755.50208 957.44 511.98976 957.44z m0-831.45728c-213.78048 0-386.00192 172.21632-386.00192 386.01216 0 213.8112 172.22144 386.0224 386.00192 386.0224 213.80096 0 386.0224-172.2112 386.0224-386.0224 0-213.79584-172.22144-386.01216-386.0224-386.01216z"></path></svg>'),this.initEmotionPicker(),this.quill.root.addEventListener("click",this.hideEmotionPicker)}};e.a=n}])});