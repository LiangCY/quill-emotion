!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.QuillEmotion=e():t.QuillEmotion=e()}("undefined"!=typeof self?self:this,function(){return function(t){function e(o){if(i[o])return i[o].exports;var n=i[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,e),n.l=!0,n.exports}var i={};return e.m=t,e.c=i,e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=0)}([function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=i(1),n=(i.n(o),i(2)),r=i(3);Quill.register({"formats/emotion":n.a,"modules/emotion":r.a}),e.default={EmotionBlot:n.a,ToolbarEmotion:r.a}},function(t,e){},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function r(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,i,o){return i&&t(e.prototype,i),o&&t(e,o),e}}(),s=function t(e,i,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,i);if(void 0===n){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,o)}if("value"in n)return n.value;var l=n.get;if(void 0!==l)return l.call(o)},u=Quill.import("parchment"),c=function(t){function e(){return o(this,e),n(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return r(e,t),l(e,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=s(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this),o=t.url,n=t.name,r=t.size,l=void 0===r?20:r;return i.classList.add("emotion"),i.setAttribute("src",o),i.setAttribute("alt",n),i.setAttribute("title",n),i.setAttribute("width",l),i.setAttribute("height",l),i}},{key:"formats",value:function(t){var e={};return t.hasAttribute("src")&&(e.src=t.getAttribute("src")),t.hasAttribute("alt")&&(e.alt=t.getAttribute("alt")),t.hasAttribute("class")&&(e.class=t.getAttribute("class")),e}}]),e}(u.Embed);c.blotName="emotion",c.tagName="img",e.a=c},function(t,e,i){"use strict";function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function t(e){var i=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(o(this,t),this.initEmotionPicker=function(){var t=i.quill.container.querySelector(".ql-emotion-picker");t||(t=i.quill.addContainer("ql-emotion-picker")),i.picker=t,i.picker.style.width="200px";var e=i.emotionButton.offsetLeft+i.emotionButton.offsetWidth/2-100;e+200>i.quill.container.offsetWidth?i.picker.style.right=0:i.picker.style.left=e+"px",i.picker.style.display="none";var o=document.createElement("ul");i.picker.appendChild(o);var n=i.options.items;(void 0===n?[]:n).forEach(function(t){var e=t.url,n=t.name,r=t.size,l=void 0===r?20:r,s=document.createElement("li");s.classList.add("ql-emotion-item");var u=document.createElement("img");u.setAttribute("src",e),u.setAttribute("alt",n),u.setAttribute("title",n),u.style.width=l+"px",u.style.height=l+"px",s.appendChild(u),s.addEventListener("click",function(){i.insertEmotion(t),i.picker.style.display="none"}),o.appendChild(s)})},this.handleEmotion=function(){"none"===i.picker.style.display?i.picker.style.display="block":i.picker.style.display="none"},this.hideEmotionPicker=function(){i.picker.style.display="none"},this.insertEmotion=function(t){var e=t.url,o=t.name,n=t.size,r=i.quill.getSelection(!0);i.quill.insertEmbed(r.index,"emotion",{url:e,name:o,size:n},"user"),i.quill.setSelection(r.index+1)},this.quill=e,this.options=n,this.toolbar=e.getModule("toolbar"),this.toolbar){this.toolbar.addHandler("emotion",this.handleEmotion);var r=document.querySelector(".ql-emotion");r&&(this.emotionButton=r,r.innerHTML=n.buttonIcon||'<svg viewBox="0 0 1024 1024" width="18" height="18"><path d="M288.92672 400.45568c0 30.80192 24.97024 55.77216 55.77216 55.77216s55.77216-24.97024 55.77216-55.77216c0-30.7968-24.97024-55.76704-55.77216-55.76704s-55.77216 24.97024-55.77216 55.76704z m334.60224 0c0 30.80192 24.97024 55.77216 55.77216 55.77216s55.77216-24.97024 55.77216-55.77216c0-30.7968-24.97024-55.76704-55.77216-55.76704s-55.77216 24.97024-55.77216 55.76704z m-111.5392 362.4704c-78.05952 0-156.13952-39.08096-200.75008-100.3776-16.77312-22.31296-27.84256-50.15552-39.08096-72.45824-5.53472-16.77312 5.5296-33.4592 16.77312-39.08096 16.77312-5.53472 27.84256 5.53472 33.46432 16.768 5.53472 22.30784 16.77312 39.08608 27.84256 55.77728 44.61568 55.76704 100.38272 83.69664 161.664 83.69664 61.30176 0 122.7008-27.84256 156.16-78.07488 11.15136-16.77824 22.30784-38.99904 27.84256-55.77728 5.62176-16.768 22.30784-22.30272 33.4592-16.768 16.768 5.53472 22.30784 22.30272 16.768 33.4592-5.61152 27.84256-22.2976 50.14528-39.08096 72.45824-38.912 61.37856-116.98176 100.3776-195.06176 100.3776z m0 194.51392C268.4928 957.44 66.56 755.52256 66.56 511.99488 66.56 268.48256 268.4928 66.56 511.98976 66.56 755.50208 66.56 957.44 268.48256 957.44 511.99488 957.44 755.52256 755.50208 957.44 511.98976 957.44z m0-831.45728c-213.78048 0-386.00192 172.21632-386.00192 386.01216 0 213.8112 172.22144 386.0224 386.00192 386.0224 213.80096 0 386.0224-172.2112 386.0224-386.0224 0-213.79584-172.22144-386.01216-386.0224-386.01216z"></path></svg>'),this.initEmotionPicker(),this.quill.root.addEventListener("click",this.hideEmotionPicker)}};e.a=n}])});